# vim: ft=tmux

set-environment -g TMUX_PARENT_NOTES_DIR "/home/marcos/Documents/Areas/Obsidian/"
set-environment -g TMUX_TASKS_IN_PROGRESS_SCRIPT "$HOME/.local/scripts/tmux-tasks-in-progress"

# Command to toggle between repositories
bind-key t run-shell '
    repo_file="$HOME/.config/tmux/task_repo_name"
    current=$(cat "$repo_file")
    if [ "$current" = "work" ]; then
        echo "personal" > "$repo_file"
        tmux display-message "Switched to personal repo for task tracking"
    else
        echo "work" > "$repo_file"
        tmux display-message "Switched to work repo for task tracking"
    fi
    tmux refresh-client -S
'

# Command to show all progress tasks in a new window
bind-key y display-popup -E -w 80% -h 60% -T "Progress Tasks" "~/.local/scripts/tmux-tasks-in-progress-popup"
